---
title: 01. 例外の種類・例外をキャッチする方法
section: 06.マスタ編
slug: /master/01-exception-type-and-way-to-catch
order: 1
---

# 01. Java における例外の種類・例外をキャッチする方法

<p class="goal">
  例外とは何か、例外の種類を知り、例外のキャッチ処理を実装できるようになること
</p>

## 学習

### Java における例外処理を知る

Java における例外とは何か、その例外をキャッチする方法と例外の種類を Web で調べてください。
検索キーワードは、「 [java 例外 try catch](https://www.google.com/search?q=java+例外+try+catch) 」です。
3 種類ぐらい説明記事やサンプルコードを読んで、Java における例外処理の概要をつかみましょう。

## 練習問題（時間: 20 分）

次の 4 つのクラスを利用する BirdWatching クラスを実行すると、実行結果の通りになるように、
BirdWatching クラスの該当処理に例外処理をコーディングしなさい

ただし、例外処理はマルチキャッチにすること

1. Bird.java
2. Eagle.java
3. Pigeon.java
4. Logger.java

### BirdWatching.java

```java
package master.trycatch.multi;

import static master.trycatch.multi.util.Logger.LogType.DEBUG;
import static master.trycatch.multi.util.Logger.LogType.INFO;

import master.trycatch.multi.entity.base.Bird;
import master.trycatch.multi.entity.Eagle;
import master.trycatch.multi.entity.Pigeon;
import master.trycatch.multi.util.Logger;

public class BirdWatching {

    public static void main(String[] args) {

        boolean isNeedToValidPigeon = true;

        BirdWatching app = new BirdWatching();
        app.execute(isNeedToValidPigeon);
        System.out.println();

        isNeedToValidPigeon = false;
        app.execute(isNeedToValidPigeon);
    }

    private void execute(boolean isNeedToValidPigeon) {

        Bird eagle = new Eagle("オジロワシ");
        Bird pigeon = new Pigeon(null);

        eagle.fly();

        if (isNeedToValidPigeon) {
            pigeon.isEmptyName();
        }

        Bird convertedPigeon = Bird.convertToPigeon(eagle);
        convertedPigeon.fly();
    }
}
```

### Bird.java

```java
package master.trycatch.multi.entity.base;

import master.trycatch.multi.entity.Pigeon;

public abstract class Bird {

    private String name;

    protected Bird(String name) {
        this.name = name;
    }

    public boolean isEmptyName() {
        return this.name.equals("");
    }

    public void fly() {
        System.out.format(
                "%s が飛んだ. %n", this.name);
    }

    public static Pigeon convertToPigeon(Bird bird) {
        return (Pigeon) bird;
    }
}
```

### Eagle.java

```java
package master.trycatch.multi.entity;

import master.trycatch.multi.entity.base.Bird;

public class Eagle extends Bird {

    public Eagle(String name) {
        super(name);
    }
}
```

### Pigeon.java

```java
package master.trycatch.multi.entity;

import master.trycatch.multi.entity.base.Bird;

public class Pigeon extends Bird {

    public Pigeon(String name) {
        super(name);
    }
}
```

### Logger.java

```java
package master.trycatch.multi.util;

public class Logger {

    public enum LogType {
        DEBUG("DEBUG"),
        INFO("INFO"),
        WARN("WARN"),;

        private String name;

        private LogType(String name) {
            this.name = name;
        }

        private String getName() {
            return this.name;
        }
    }

    public static void log(LogType type, String message) {
        System.out.format(
            "[%s] %s %n", type.getName(), message
        );
    }
}
```

### 例外処理を追記した BirdWatching.java の実行結果

```console
オジロワシ が飛んだ.
[DEBUG] [ヌルポ] 例外をキャッチしました.
java.lang.NullPointerException
        at master.trycatch.multi.entity.base.Bird.isEmptyName(Bird.aka.ms/pscorejava:14)
        at master.trycatch.multi.BirdWatching.execute(BirdWatching.java:34)
        at master.trycatch.multi.BirdWatching.main(BirdWatching.java:18)
[INFO] finally ブロックです.
[INFO] try-catch を抜けました.

オジロワシ が飛んだ.
[DEBUG] [キャスト例外] 例外をキャッチしました.
java.lang.ClassCastException: class master.trycatch.multi.entity.Eagle cannot be cast to class master.trycatch.multi.entity.Pigeon (master.trycatch.multi.entity.Eagle and master.trycatch.multi.entity.Pigeon are in unnamed module of loader 'app')
        at master.trycatch.multi.entity.base.Bird.convertToPigeon(Bird.java:23)
        at master.trycatch.multi.BirdWatching.execute(BirdWatching.java:37)
        at master.trycatch.multi.BirdWatching.main(BirdWatching.java:22)
[INFO] finally ブロックです.
[INFO] try-catch を抜けました.
```

## 解答例

https://github.com/fs5013-furi-sutao/java-bootcamp-answers/blob/main/06.master/01.exception-type-and-way-to-catch/src/master/trycatch/multi
