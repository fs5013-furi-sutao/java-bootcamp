---
title: 05. テストケースの網羅性
section: 07.初級PG認定試験対策
slug: /entrypg/05-test-coverage
order: 5
---

# 05. テストケースの網羅性

<p className="goal">テストケースの網羅性について詳しく知る</p>

## 学習

### テストケースの網羅性

網羅性については「02.ブラックボックステスト/ホワイトボックステスト」でも調べましたが、実際にはそれをどのようにテストに当てはめるかを確認しましょう。

## テストケースの網羅性の確認

ここでは「04.テストケースの作成方法」で使用したプログラムとテスト仕様書を使って解説をします。
網羅性を確認するにあたって、そもそもこの単体テストでは網羅性をどれくらい細かく確認するか知っている必要があります。

網羅性にはいくつか種類が存在しますが、今回は複合条件網羅(MCC)を適用します。

### startメソッドの確認

今回確認するプログラムのメイン処理はLearningクラスのstartメソッドですので、そこから確認をしていきましょう。
網羅性はプログラムが条件によって分岐する処理に対して確認を行います。

start()メソッドでは入力した演算子によって処理が分岐します。
switch文で処理が4パターンに分かれる部分に対してテストが行われているかを確認します。

![switch文のテストケース確認](./switch-test-case.png)

この場合は、テスト仕様書のテストケースNo 1-1-7からNo 1-1-10までをクリアできれば、それぞれの分岐を通ったのが確認できます。
既にすべての分岐を網羅しているので追加のテストケースは必要ありません。

### inputNumberメソッドの確認

続いて、数字の入力に使っているinputNumberメソッドを確認しましょう。

一つ目のif文ではキーボードから入力した値がint型かどうかを判定し、分岐しています。

二つ目のif文ではisValidInputフラグの値を判定して、分岐しています。

![if文のテストケース確認](./if-test-case.png)

この場合、黄色い枠の処理は入力した値がint型の場合に実行されます。テストケースNo 1-1-5ではint型の数値を入力し、出力されることを確認しているため、黄色い枠の処理が実行されていることが確認できます。

赤色の枠は入力した値がint型ではなかった場合に実行されます。
テストケースNo 1-1-3ではint型以外の入力値があった場合に警告メッセージを表示して、数値が再度入力できることを確認しているため、不正な入力値が確かに回収されていることが確認できます。

※ここで注意しておきたいのは、今回の実装方法では入力値がint型ではなかった場合にif文の判定が必ず「false」になることです。
そのため、「int型以外の入力値」のテストとしてint型ではない値を一種類だけピックアップしても構いません。
実装方法によっては少数や記号なども別々のテストを実施する必要がありますので注意をしてください。例）正規表現による入力値のテストなど。

最後に緑色の枠はisValidInputの値が「true」の場合と「false」の場合の両方をテストする必要がある。

テストケースNo 1-1-5ではisValidInputの値が「true」のとき、No 1-1-3ではisValidInputの値が「false」のときの確認ができますので追加のテストケースは必要ありません。

これで全ての分岐処理が網羅できていることが確認できたため、テストケースの追加は必要ないことが確認できました。
