---
title: 29. Java のリスト（ArrayList クラス）
section: 02.入門編
slug: /entry/29-array-list
order: 29
---

# 29. Java のリスト（ArrayList クラス）

<p class="goal">
  変長のリストとなるデータには配列ではなく、ArrayList
  のデータを使って処理を実装できるようになること。ArrayList は List
  インタフェースを実装していることを知る
</p>

## 学習

### Java のリスト（ArrayList クラス）を知る

リストは配列と同じように複数の値を格納することができるものです。
ただし、それぞれに特徴があります。一番大切な違いは配列が「固定長」で、リストが「可変長」であることです。

配列は一度要素数を決めると変更をすることができませんが、リストは自由に要素の追加・削除ができます。

これだけ読むと、自由が利くリストさえあれば配列は不要だと感じるかもしれません。
しかし、そいうわけではありません。
どちらにもメリット・デメリットがありますので、必要に応じて使い分けます。

両者の違いについてもっと詳しく知りたい場合はWebで調べてください。
検索キーワードは、「 [java 配列 ArrayList 違い](https://www.google.com/search?q=java+配列+ArrayList+違い) 」です。

## ArrayListの初期化

ArrayListを作る場合は次のように記述します。
ArrayListに赤線が表示されるはずですので、import文を追加しておきましょう。

```java
ArrayList<Integer> list = new ArrayList<Integer>();
```

配列と同様にどんな種類の値を入れるかを初期化時に決める必要があります。
データ型は < > の中に記述をしますが、整数を入れたい場合は `int` ではなく `Integer` と記述をする必要があります。

Integerはint型のラッパークラスです。現時点ではあまり深く理解する必要はありませんが、byte、boolean、charなどにはそれぞれ対応するラッパークラスが存在します。
ArrayListを使う場合はそのラッパークラスを使う必要があるということだけを抑えておきましょう。

ラッパークラスの一覧を見たい場合はWebで調べてください。検索キーワードは、「 [java ラッパークラス](https://www.google.com/search?q=java+ラッパークラス) 」です。

また、ArrayListを初期化する場合は、次のように左辺を `List` にすることもできます。
なぜこのような書き方ができるかを理解するためにはオブジェクト指向の概念を理解する必要がありますので、現時点ではあまり深掘りせずに記述の仕方だけを覚えておきましょう。

```java
List<Integer> list = new ArrayList<Integer>();
```

## 要素を追加

ArrayListに要素を追加する場合は、`add()` メソッドを使います。
次のように記述をすると10、25、40をリストに追加することができます。

```java
List<Integer> list = new ArrayList<Integer>();

list.add(10);
list.add(25);
list.add(40);
```

## ArrayListの出力

ArrayListの値を表示する場合は次のように書くことができます。
要素を一つ取得して表示する場合は、`get()` メソッドを使います。
引数としてインデックス（要素番号）を渡すことで要素の値を取得することができます。

また、`println()`などの出力メソッドにリスト名を直接記述することでリスト内の全ての要素をまとめて出力することができます。

```java
List<Integer> list = new ArrayList<Integer>();

list.add(10);
list.add(25);
list.add(40);

System.out.printf("添え字を指定して要素を出力: %d \n", list.get(1));

System.out.println("全ての要素を取得");
System.out.println(list);
```

### 実行結果

```
添え字を指定して要素を出力: 25 
全ての要素を取得
[10, 25, 40]
```

## 要素の挿入

ArrayListは最後尾に要素を追加するだけではなく、指定した位置に要素を挿入することもできます。
リストの最後尾に要素を追加するときと同じように `add()` メソッドを使いますが、挿入時は挿入位置のインデックスも指定する必要があります。

```java
List<Integer> list = new ArrayList<Integer>();

list.add(10);
list.add(25);
list.add(40);

System.out.println("挿入前の出力");
System.out.println(list);

list.add(2, 50);

System.out.println("挿入後の出力");
System.out.println(list);
```

### 実行結果

```
挿入前の出力
[10, 25, 40]
挿入後の出力
[10, 25, 50, 40]
```

## 要素の削除

ArrayListから要素を削除する場合は、`remove()` メソッドを使います。
引数としてインデックスを渡すことで要素を削除することができます。

```java
List<Integer> list = new ArrayList<Integer>();

list.add(10);
list.add(25);
list.add(40);

System.out.println("削除前の出力");
System.out.println(list);

list.remove(1);

System.out.println("削除後の出力");
System.out.println(list);
```

### 実行結果

```
削除前の出力
[10, 25, 40]
削除後の出力
[10, 40]
```

## 要素の上書き

ArrayListの要素の値を上書きする場合は、`set()` メソッドを使います。
引数として、上書きしたい要素のインデックスと設定したい値を渡すことで上書きをすることができます。

```java
List<Integer> list = new ArrayList<Integer>();

list.add(10);
list.add(25);
list.add(40);

System.out.println("上書き前の出力");
System.out.println(list);

list.set(1, 50);

System.out.println("上書き後の出力");
System.out.println(list);
```

### 実行結果

```
上書き前の出力
[10, 25, 40]
上書き後の出力
[10, 50, 40]
```

## 要素の検索

ArrayListには要素の検索をする機能もあります。
リストの先頭から確認し、指定した値と最初に一致する要素のインデックスを返す `indexOf()` メソッドと最後に一致する要素のインデックスを返す `lastIndexOf()` メソッドがあります。

```java
List<Integer> list = new ArrayList<Integer>();

list.add(10);
list.add(25);
list.add(40);
list.add(20);
list.add(25);

System.out.printf("25が最初に一致したのは %d 番目の要素 \n", list.indexOf(25));
System.out.printf("25が最後に一致したのは %d 番目の要素 \n", list.lastIndexOf(25));
```

### 実行結果

```
25が最初に一致したのは 1 番目の要素 
25が最後に一致したのは 4 番目の要素
```
